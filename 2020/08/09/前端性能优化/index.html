

<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>前端性能优化方法 - Hikari</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />

  
  
  <meta name="description" content="前端性能优化方法:one: 减少请求资源的大小或次数1..."> 
  
  <meta name="author" content="Hikaire"> 

  
    <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  
  
    <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  
  
    <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  
  
    <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_58xq2j9v1id.css">

  

  
  
  
<link rel="stylesheet" href="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
  
  
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css">

  

  
  
  
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css">

  

  <script>
    var CONFIG = window.CONFIG || {}
    CONFIG = {
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        loadingImage: '/images/theme/loading.gif',
      },
      donate_alipay: '/',
      donate_wechat: '/',
      motto: {
        api: '',
        default: 'World enough, but time.'
      },
      galleries: {
        enable: 'true'
      },
      fab: {
        enable: 'true',
        alwaysShow: 'false'
      },
      carrier: {
        enable: 'true'
      }
    }
  </script>

  

  
<meta name="generator" content="Hexo 5.0.0"></head>
<body class="lock-screen">
  <div class="loading"></div>
  <nav class="menu">
  <div class="menu-close">
    <i class="iconfont iconplus"></i>
  </div>
  <ul class="menu-content">
    
    
    
    
    <li class="menu-item"><a href="/ "> 首页</a></li>
    
    
    
    
    <li class="menu-item"><a href="/archives "> 归档</a></li>
    
    
    
    
    <li class="menu-item"><a href="/tags "> 标签</a></li>
    
    
    
    
    <li class="menu-item"><a href="/categories "> 分类</a></li>
    
    
    
    
    <li class="menu-item"><a href="/about "> 关于</a></li>
    
  </ul>
  <div class="menu-copyright"><p>Copyright© 2020 | <a href="#">Hikaie</a></p></div>
</nav>
  <main id="main">
  <div class="container" id="container">
    <article class="article">
  <section class="head">
  <img   class="lazyload" data-original="/images/pic4.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">前端性能优化方法</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>2020-08-09</span
        class="post-info-item">
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>3611</span>
    </div>
  </div>
</section>
  <section class="main">
    <section class="content">
      <h1 id="前端性能优化方法"><a href="#前端性能优化方法" class="headerlink" title="前端性能优化方法"></a>前端性能优化方法</h1><h2 id="one-减少请求资源的大小或次数"><a href="#one-减少请求资源的大小或次数" class="headerlink" title=":one: 减少请求资源的大小或次数"></a>:one: 减少请求资源的大小或次数</h2><p><strong>1、尽量和并和压缩css和js文件。（将css文件和并为一个。将js合并为一个）</strong></p>
<p><strong>2、尽量所使用的字体图标或者SVG图标来代替传统png图</strong></p>
<p><strong>3、采用图片的懒加载（延迟加载），减少页面第一次加载过程中http的请求次数</strong></p>
<ul>
<li><p>页面开始加载时不去发送http请求，而是放置一张占位图</p>
</li>
<li><p>当页面加载完时，并且图片在可视区域再去请求加载图片信息</p>
</li>
</ul>
<p><strong>4、能用css做的效果，不要用js做，能用原生js做的，不要轻易去使用第三方插件。</strong></p>
<ul>
<li>避免引入第三方大量的库。而自己却只是用里面的一个小功能</li>
</ul>
<p><strong>5、 使用雪碧图或者是说图片精灵CSS Sprites</strong></p>
<ul>
<li>把所有相对较小的资源图片，绘制在一张大图上，只需要将大图下载下来，然后利用图片定位来讲小图展现在页面中（background-position:百分比，数值）</li>
</ul>
<p><strong>6、减少对cookie的使用（减少本地cookie存储内容的大小）</strong></p>
<ul>
<li>因为客户端*操作cookie的时候，这些信息总是在客户端和服务端传递。如果上设置不当，每次发送一个请求将会携带cookie。</li>
</ul>
<p><strong>7、前端与后端进行数据交互时，对于多项数据尽可能基于json格式来进行传送。</strong></p>
<ul>
<li>相对XML数据处理方便，资源偏小</li>
</ul>
<p><strong>8、前端与后端协商，合理使用keep-alive</strong></p>
<p><strong>9、前端与服务器协商，使用响应资源的压缩</strong></p>
<p><strong>10、避免使用iframe</strong></p>
<ul>
<li>不仅不好管控样式，而且相当于在本页面又嵌套其他页面，消耗性能会更大。因为还回去加载这个嵌套页面的资源</li>
</ul>
<p><strong>11、减少Flash的使用</strong></p>
<h2 id="two-代码优化相关"><a href="#two-代码优化相关" class="headerlink" title=":two: 代码优化相关"></a>:two: 代码优化相关</h2><h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><p><strong>1、在js中尽量减少闭包的使用</strong></p>
<ul>
<li>使用闭包后，闭包所在的上下文不会被垃圾回收</li>
</ul>
<p><strong>2、减少对DOM操作，主要是减少DOM的重绘与回流（重排）</strong></p>
<ul>
<li>关于重排（回流）的分离读写：如果需要设置多个样式，把设置样式全放在一起设置，不要一条一条的设置。使用文档碎片或者字符串拼接做数据绑定（DOM的动态创建）</li>
</ul>
<p><strong>3、在js中避免嵌套循环和”死循环”(一旦遇到死循环，浏览器就会直接卡掉)</strong></p>
<p><strong>4、在js封装过程中，尽量做到低耦合高内聚。减少页面的冗余代码</strong></p>
<p><strong>5、css导入的时候尽量减少@import导入式</strong></p>
<ul>
<li>因为@import是同步操作，只有把对应的样式导入后，才会继续向下加载，而link是异步的操作</li>
</ul>
<p><strong>6、使用window.requestAnimationFrame(js的帧动画)代替传统的定时器动画</strong></p>
<ul>
<li>如果想使用每隔一段时间执行动画，应该避免使用setInterval，尽量使用setTimeout代setInterval定时器。因为setInterval定时器存在弊端：可能造成两个动画间隔时间缩短</li>
</ul>
<p><strong>7、尽量减少使用递归。避免死递归</strong></p>
<ul>
<li>解决：建议使用尾递归</li>
</ul>
<p><strong>8、在事件绑定中，尽可能使用事件委托，减少循环给DOM元素绑定事件处理函数。</strong></p>
<ul>
<li>事件委托：利用事件冒泡，只指定一个事件处理程序，就可以管理某一类型的所有事件。</li>
</ul>
<p><strong>9、慎用with</strong></p>
<ul>
<li>with修改了代码块的执行环境，增加了作用域链的长度</li>
</ul>
<p><strong>10、避免使用eval、Function</strong></p>
<ul>
<li>每次 eval 或 Function 构造函数作用于字符串表示的源代码时，脚本引擎都需要将源代码转换成可执行代码。这是很消耗资源的操作 —— 通常比简单的函数调用慢100倍以上。</li>
<li>不利于Javascript压缩工具执行压缩。</li>
</ul>
<p><strong>11、减少作用域链的查找</strong></p>
<ul>
<li>变量能往内层放，就往内层放</li>
</ul>
<p><strong>12、字符串拼接使用join，而不是+</strong></p>
<ul>
<li>因为“+”每次运行都会开辟新的内存并生成新的字符串变量，然后将拼接结果赋值给新变量。</li>
</ul>
<p><strong>13、使用web worker</strong></p>
<ul>
<li>Web Worker是HTML5提供的一个javascript多线程解决方案，可以将一些大计算量的代码交由web Worker运行，从而避免阻塞用户界面，在执行复杂计算和数据处理时，这个API非常有用</li>
</ul>
<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><p><strong>1、减少css表达式的使用</strong></p>
<p><strong>2、css选择器解析规则所示从右往左解析的，减少元素标签作为对后一个选择对象</strong></p>
<ul>
<li><code>.box .item div</code> 浏览器必须遍历查找每一个div标签的祖先节点。</li>
</ul>
<p><strong>3、尽量将一个动画元素单独设置为一个图层（避免重绘或者回流的大小）</strong></p>
<ul>
<li>注意：图层不要过多设置，否则不但效果没有达到反而更差了</li>
</ul>
<p><strong>4、css中设置定位后，最好使用z-index改变盒子的层级，让盒子不在相同的平面上</strong></p>
<h2 id="three-存储"><a href="#three-存储" class="headerlink" title=":three: 存储"></a>:three: 存储</h2><p>1、<strong>结合后端，利用浏览器的缓存技术，做一些缓存（让后端返回304，告诉浏览器去本地拉取数据）</strong>。（注意：也有弊端）可以让一些不太会改变的静态资源做缓存。比如：一些图片，js，cs</p>
<p>2、<strong>利用h5的新特性（localStorage、sessionStorage）做一些简单数据的存储</strong>，避免向后台请求数据或者说在离线状态下做一些数据展示。</p>
<h2 id="four-网络连接"><a href="#four-网络连接" class="headerlink" title=":four: 网络连接"></a>:four: 网络连接</h2><p><strong>1、使用CDN</strong></p>
<ul>
<li>CDN全称是Content Delivery Network，即内容分发网络，它能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。</li>
</ul>
<p><strong>2、DNS预解析</strong></p>
<ul>
<li><p>当浏览器访问一个域名的时候，需要解析一次DNS，获得对应域名的ip地址。在解析过程中，按照<code>浏览器缓存</code>、<code>系统缓存</code>、<code>路由器缓存</code>、<code>ISP(运营商)DNS缓存</code>、<code>根域名服务器</code>、<code>顶级域名服务器</code>、<code>主域名服务器</code>的顺序，逐步读取缓存，直到拿到IP地址</p>
</li>
<li><p>DNS Prefetch，即DNS预解析就是根据浏览器定义的规则，提前解析之后可能会用到的域名，使解析结果缓存到<code>系统缓存</code>中，缩短DNS解析时间，来提高网站的访问速度</p>
</li>
<li><p>方法是在 head 标签里面写上几个 link 标签，对以上几个网站提前解析 DNS，由于它是并行的，不会堵塞页面渲染，这样可以缩短资源加载的时间</p>
</li>
</ul>
<h2 id="five-资源加载"><a href="#five-资源加载" class="headerlink" title=":five: 资源加载"></a>:five: 资源加载</h2><p><strong>1、基于script标签下载js文件时，可以使用defer或者async来异步加载</strong></p>
<p><strong>2、把css放在body上，把js放在body下面</strong></p>
<ul>
<li>如果将CSS放在其他地方比如BODY中，则浏览器有可能还未下载和解析到CSS就已经开始渲染页面了，这就导致页面由无CSS状态跳转到CSS状态，用户体验比较糟糕。</li>
<li>让其先加载css（注意：这里关于优化没有多大关系）</li>
</ul>
<p><strong>3、处理页面布局的JS文件放在head中</strong></p>
<p><strong>4、body中间尽量不写style和script</strong></p>
<p><strong>5、模块按需加载</strong></p>
<ul>
<li>webpack 提供了两个类似的技术，优先选择的方式是使用符合 ECMAScript 提案 的 import() 语法。第二种则是使用 webpack 特定的 require.ensure</li>
</ul>
<h2 id="six-DOM"><a href="#six-DOM" class="headerlink" title=":six: DOM"></a>:six: DOM</h2><p><strong>1、缓存DOM</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> div = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;div&#x27;</span>)<br></code></pre></td></tr></table></figure>

<ul>
<li>由于查询DOM比较耗时，在同一个节点无需多次查询的情况下，可以缓存DOM</li>
</ul>
<p><strong>2、减少DOM深度及DOM数量</strong></p>
<ul>
<li>HTML 中标签元素越多，标签的层级越深，浏览器解析DOM并绘制到浏览器中所花的时间就越长，所以应尽可能保持 DOM 元素简洁和层级较少。</li>
</ul>
<p><strong>3、批量操作DOM</strong></p>
<ul>
<li>由于DOM操作比较耗时，且可能会造成回流，因此要避免频繁操作DOM，可以批量操作DOM，先用字符串拼接完毕，再用innerHTML更新DOM</li>
</ul>
<p><strong>4、批量操作CSS样式</strong></p>
<ul>
<li>通过切换class或者使用元素的style.csstext属性去批量操作元素样式</li>
</ul>
<p><strong>5、在内存中操作DOM</strong></p>
<ul>
<li>使用DocumentFragment对象，让DOM操作发生在内存中，而不是页面上</li>
</ul>
<p><strong>6、DOM元素离线更新</strong></p>
<ul>
<li>对DOM进行相关操作时，例、appendChild等都可以使用Document Fragment对象进行离线操作，带元素“组装”完成后再一次插入页面，或者使用display:none 对元素隐藏，在元素“消失”后进行相关操作</li>
</ul>
<p><strong>7、DOM读写分离</strong></p>
<ul>
<li>浏览器具有惰性渲染机制，连接多次修改DOM可能只触发浏览器的一次渲染。而如果修改DOM后，立即读取DOM。为了保证读取到正确的DOM值，会触发浏览器的一次渲染。因此，修改DOM的操作要与访问DOM分开进行</li>
</ul>
<p><strong>8、事件委托</strong></p>
<ul>
<li><p>事件委托是指将事件监听器注册在父级元素上，由于子元素的事件会通过事件冒泡的方式向上传播到父节点，因此，可以由父节点的监听函数统一处理多个子元素的事件</p>
</li>
<li><p>利用事件代理，可以减少内存使用，提高性能及降低代码复杂度</p>
</li>
</ul>
<p><strong>9、防抖和节流</strong></p>
<ul>
<li>使用函数节流（throttle）或函数去抖（debounce），限制某一个方法的频繁触发</li>
</ul>
<p><strong>10、及时清理环境</strong></p>
<ul>
<li>及时消除对象引用，清除定时器，清除事件监听器，创建最小作用域变量，可以及时回收内存</li>
</ul>

    </section>
    <section class="extra">
      
      
        <section class="donate">
  <div class="qrcode">
    <img   class="lazyload" data-original="/" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
      
      
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%98%E5%8C%96/" rel="tag">优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li></ul>

      
<nav class="nav">
  
    <a href="/2020/08/09/%E6%95%B0%E6%8D%AE%E5%BA%93/"><i class="iconfont iconleft"></i>数据库知识点总结</a>
  
  
    <a href="/2020/08/09/leetcode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-99-%E6%81%A2%E5%A4%8D%E4%BA%8C%E5%8F%89%E6%A0%91/">leetcode每日一题 99.恢复二叉树<i class="iconfont iconright"></i></a>
  
</nav>

    </section>
    
      <section class="comments">
        
          <div class="btn" id="comments-btn">查看评论</div>
        
        
      </section>
    
  </section>
</article>
  </div>
</main>
  <footer class="footer">
  <div class="footer-social">
    
    
    
    
    
    <a href="tencent://message/?Menu=yes&uin=530724328 " target="_blank" onMouseOver="this.style.color= '#12B7F5'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconQQ "></i>
    </a>
    
    
    
    
    
    <a href="javascript:; " target="_blank" onMouseOver="this.style.color= '#09BB07'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconwechat-fill "></i>
    </a>
    
    
    
    
    
    <a href="https://www.instagram.com/izhaoo/ " target="_blank" onMouseOver="this.style.color= '#DA2E76'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconinstagram "></i>
    </a>
    
    
    
    
    
    <a href="https://github.com/Hikaie " target="_blank" onMouseOver="this.style.color= '#24292E'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  icongithub-fill "></i>
    </a>
    
    
    
    
    
    <a href="mailto:hikarinoda@163.com " target="_blank" onMouseOver="this.style.color='#FFBE5B'"
      onMouseOut="this.style.color='#33333D'">
      <i class="iconfont footer-social-item  iconmail"></i>
    </a>
    
  </div>
  <div class="footer-copyright"><p>Copyright© 2020 | <a href="#">Hikaie</a></p></div>
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  <div class="fab fab-menu">
    <i class="iconfont iconmenu"></i>
  </div>
  
</body>


<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>






<script src="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>








<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>






<script src="https://cdn.bootcdn.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js"></script>






<script src="/js/script.js"></script>



<script>
  (function () {
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    } else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>











</html>